@use "_colors.scss" as colors;

/* general css */
@import url("https://fonts.googleapis.com/css2?family=Acme&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Acme&family=Amatic+SC:wght@400;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap");

:root {
  --delayShake: 1.2s;
}

* {
  box-sizing: border-box;
  margin: 0;
}

// make text non-selectable (include prefixes for the browsers that require it)
html {
  font-family: "Acme";
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

//html::-webkit-scrollbar {
 // display: none; /* For Webkit browsers */
// }

// from CSS tricks, will change stuff later just checking
.styled-scrollbars {
  --scrollbar-foreground: #999
  --scrollbar-background: #333
  /* Foreground, Background */
  scrollbar-color: var(--scrollbar-foreground) var(--scrollbar-background);
}
.styled-scrollbars::-webkit-scrollbar {
  width: 10px; /* Mostly for vertical scrollbars */
  height: 10px; /* Mostly for horizontal scrollbars */
}
.styled-scrollbars::-webkit-scrollbar-thumb { /* Foreground */
  background: var(--scrollbar-foreground);
}
.styled-scrollbars::-webkit-scrollbar-track { /* Background */
  background: var(--scrollbar-background);
}
body {
  overflow-x: hidden;
}

.scene {
  position: relative;
  height: 100vh;
  width: 100vw;

  &__one, &__three--one, &__three--two, &__three--three, &__three--four {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: colors.$forest-bg;
  }

  &__headline {
    overflow: hidden;
    transform: translate(-50%, -50%);
    font-family: "Amatic SC", sans-serif;
    top: 50%;
    left: 50%;
    position: absolute;
    font-size: 8vw;
    z-index: 1;
  }

  &__paragraph {
    background-color: rgba(255, 255, 255, 0.7);
    font-size: clamp(14px, 1.5vw, 20px);
    position: absolute;
    left: 25%;
    width: 50%;
    top: -40%;
    padding: 5%;
    text-align: center;
    z-index: 1;
    box-shadow: 0 0 1vw 0.5vw rgba(0, 0, 0, 0.35);

    &--five {
      position: absolute;
      transform: translate(-50%, 0%);
      left: 65%;
      top: 30%;
      padding: 2%;
      font-size: clamp(14px, 3vw, 2.25rem);
      background-color: colors.$sky-blueV1;
  }
  }

  &__two {
    align-items: flex-end;
    height: 100%;
    width: 100%;
    position: absolute;
    display: flex;
    opacity: 0;
    background-color: #bcc1d0;
  }

  &__three--one {
    opacity: 0;
  }

  &__three--two, &__three--three, &__three--four {
  display: none;
}
}

.city {
  &__building {
    display: flex;
    flex-flow: row wrap;
    justify-content: space-evenly;
    gap: 5%;
    align-items: center;
    position: absolute;
    bottom: 10vw;

    &--one {
      width: 6%;
    }

    &--two {
      width: 13%;
      left: 6%;
    }

    &--three {
      width: 15%;
      left: 19%;
    }

    &--four {
      width: 13.5%;
      left: 34%;
    }

    &--five {
      width: 13.5%;
      left: 47.5%;
    }

    &--six {
      width: 10%;
      left: 61%;
    }

    &--seven {
      width: 7%;
      left: 71%;
    }

    &--eight {
      width: 10%;
      right: 12%;
    }

    &--nine {
      width: 12%;
      right: 0%;
    }
  }

  &__floor {
    width: 100%;
    opacity: 0;
    background-color: #232c43;
    padding: 3% 1.2% 0;
    position: absolute;
  }

  &__road {
    width: 0%;
    display: block;
    height: 20%;
    margin: 0 auto;
    opacity: 0;
    background-color: #555e73;
  }

  &__window {
    background-color: #4c5f8f;
    opacity: 0;

    &--small {
      height: 11%;
      width: 10%;
      margin: 0 9%;
    }

    &--medium {
      height: 8%;
      width: 50%;
    }

    &--large {
      height: 10%;
      width: 75%;
    }

    &--tall {
      width: 10%;
      margin: 0 9%;
      height: 30%;
    }
  }

  &__water {
    position: absolute;
    background-color: rgba(72, 81, 105, 0.741);
    width: 120%;
    height: 0;
    transition: 1s;
    bottom: -10vw;
    left: -5%;
    overflow: hidden;
  }
}
svg {
  bottom: 0;
  position: absolute;
}

.deer {
  bottom: 10vw;
  left: 0;
  width: 10%;
  fill: colors.$forest-greenV4;
  opacity: 0;

  &__legs {
    &--one {
      transform-origin: center;
      // animation: deerLegsOne 0.5s infinite;
    }

    &--two {
      transform-origin: center;
      // animation: deerLegsTwo 0.5s infinite;
    }
  }
}

.planes {
  &__patch {
    z-index: -1;
    &--one {
      fill: colors.$forest-greenV4;
    }

    &--two {
      fill: colors.$forest-greenV3;
    }

    &--three {
      fill: colors.$forest-greenV2;
    }

    &--four {
      fill: colors.$forest-greenV1;
    }
  }

  &__container {
    position: absolute;
    transform: translate(-50%, 0%);
    left: 50%;
    top: 3%;
    display: flex;
    gap: 5px;
    flex-direction: column;
    align-items: center;
  }

  &__button {
    margin-top: 1rem;
    z-index: 2;
    padding: 1% 2%;
    font-size: 1.4em;
    border-radius: 3px;
    border: solid rgb(44, 44, 44) 1px;
    background-color: colors.$forest-bg;

    &--disabled {
      display: none;
    }
  }

  &__text {
    padding: 2%;
    text-align: center;
    box-shadow: 0 0 1vw 0.5vw rgba(0, 0, 0, 0.35);
    background-color: colors.$forest-bg;
  }

 
}

.tree-growth {
  &__mountain {
    fill: colors.$forest-greenV1;
}

&__shadow {
    &--mountain {
        fill: colors.$forest-greenV1_shade;
    }
}

&__leaves {
    &--sapling {
        fill: colors.$forest-greenV3;
    }

    &--light {
        fill: colors.$forest-greenV3;
    }

    &--dark {
        fill: colors.$forest-greenV5;
    }

    &--mid {
        fill: colors.$forest-greenV4;
    }
}

&__stem {
    &--sapling {
        fill: #205f4b;
    }

    &--brown {
        fill: colors.$dark-woodV1;
    }
}

&__grass {
    &--back {
        fill: colors.$forest-greenV2;
    }

    &--front {
        fill: colors.$forest-greenV3;
    }
}

&__dividers {
    fill: colors.$forest-bg;
}
}

@mixin plantSeedTemplate($suffix, $color) {
  @keyframes plantSeed#{$suffix} {
    20%,
    40% {
      transform: translateY(220%);
    }

    60%,
    70% {
      transform: translateY(216%);
    }

    70%,
    80% {
      transform: translateY(210%);
    }

    80%,
    90% {
      transform: translateY(202%);
    }

    90%,
    100% {
      transform: translateY(192%);
    }

    50%,
    100% {
      fill: $color;
    }
  }
}

.seed {
    position: absolute;
    width: 5%;
    fill: colors.$dark-woodV1;
    transition: opacity 0.2s;
    opacity: 0;

    // Plant classes with animations
    &1 {
        left: 20%;
        bottom: 41vw;

        &--plant {
            opacity: 1;
            animation: plantSeed1 2s forwards;
            @include plantSeedTemplate(1, colors.$forest-greenV2);
        }
    }

    &2 {
        left: 40%;
        bottom: 18.8vw;

        &--plant {
            opacity: 1;
            animation: plantSeed2 2s forwards;
            @include plantSeedTemplate(2, colors.$forest-greenV4);
        }
    }

    &3 {
        left: 80%;
        bottom: 30vw;

        &--plant {
            opacity: 1;
            animation: plantSeed3 2s forwards;
            @include plantSeedTemplate(3, colors.$forest-greenV3);
        }
    }

    &--grow {
        animation: seedGrow 2s forwards;
      }
    
}

.forest {
  &__shake {
    &--active {
      animation: sceneShakingGround 0.4s alternate calc(3 + (6.5 / 0.4));
    }
  }

  &__trees {
    position: absolute;
    bottom: 0;
    fill: colors.$forest-greenV4;
    width: 102%;
    left: 0;
  }

  //placed for animation
  &__tree {
    overflow: hidden;
    &--shake {
      animation: sceneShakingGround 0.4s alternate infinite;
    }
  }

  &__patch {
    &--one {
      fill: colors.$forest-greenV4;
      width: 102%;
      left: -1%;
      bottom: -0.5vw;
    }

    &--two {
      fill: colors.$forest-greenV3;
    }

    &--three {
      fill: colors.$forest-greenV2;
    }

    &--four {
      fill: colors.$forest-greenV1;
    }
  }
}

// for the last part of scene 3
.nature {
    &__mountains {
        fill: colors.$sky-blueV1;
    }

    &__patch-two {
        fill: colors.$forest-greenV2;
    }

    &__patch-one {
        fill: colors.$forest-greenV3;
    }
}

.nature__leaves {
    animation: windBlow 2s ease-in-out infinite;
    fill: colors.$forest-greenV4;

    &-light {
        fill: colors.$forest-greenV3;
    }
}

.bird {
    width: 8%;
    bottom: 37.5vw;
    left: 15%;
    fill: #c24444;
    animation: birdUpDown 2s alternate infinite;

    &__wing {
        transform-origin: center;
        animation: flapWings 2s ease-in-out alternate infinite;
        fill: #943737;
    }

    &__blush {
        fill: #e05b5a;
    }

    &__stomach {
        fill: #e5e0c7;
    }

    &__details {
        fill: #602526;
    }
}

.nature__tree {
    width: 72%;
    fill: colors.$earth-brownV3;

    &-highlight {
        fill: colors.$earth-brownV1;
    }

    &-mid {
        fill: colors.$earth-brownV4;
    }

    &-shadow {
        fill: colors.$earth-brownV5;
    }
}

.flowers {
    fill: colors.$forest-greenV3;

    &__bell {
        fill: #4c6aa0;
        transform-origin: center;
        animation: flowerRotate 2s ease-in-out alternate infinite;
    }

    &__bell-shadow {
        fill: #375786;
    }

    &--one,
    &--three {
        animation: flowerWaveOne 2s ease-in-out alternate infinite;
    }

    &--two {
        animation: flowerWaveTwo 2s ease-in-out alternate infinite;
    }
}

@keyframes birdUpDown {
    from {
        transform: translateY(0%);
    }

    to {
        transform: translateY(20%);
    }
}

@keyframes flapWings {
    0% {
        transform: rotate(0);
    }

    25% {
        transform: rotate(10deg);
    }

    50% {
        transform: rotate(5deg);
    }

    75% {
        transform: rotate(-10deg);
    }

    100% {
        transform: rotate(-5deg);
    }
}

@keyframes windBlow {
    0% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(0.5%);
    }

    100% {
        transform: translateY(0);
    }
}

@keyframes flowerWaveOne {
    100% {
        transform: rotate(0.2deg);
    }
}

@keyframes flowerWaveTwo {
    100% {
        transform: rotate(-0.2deg);
    }
}

@keyframes flowerRotate {
    0% {
        transform: rotateX(-10deg) translateX(-0.1%);
    }

    50% {
        transform: rotate(0);
    }

    100% {
        transform: rotateX(10deg) translateX(0.1%);
    }
}

.bulldozer {
  &__svg {
    width: 60%;
    position: absolute;
    z-index: 2;
    bottom: 0;
    right: -60%;
    fill: colors.$bz-yellowV2;

    &--active {
      animation: bulldozerDrive 6.5s linear forwards var(--delayShake);
    }
  }

  &__group--pipe {
    animation: pipeShake 0.5s linear infinite;
    fill: #6e707c;
  }

  &__group--lift {
    animation: rocking 0.5s alternate infinite;
  }

  &__group--body {
    animation: upDown 0.5s alternate infinite;
  }

  &__group--wheel {
    transform-origin: center;
    animation: rotateWheel 0.8s infinite;
    transform-box: fill-box;
    fill: #b1b7c9;
    stroke-width: 4;
    stroke: #8b8f99;
  }

  &__yellow-light {
    fill: colors.$bz-yellowV1;
  }

  &__yellow-mid {
    fill: colors.$bz-yellowV3;
  }

  &__yellow-dark {
    fill: colors.$bz-yellowV4;
  }

  &__grey-light {
    fill: colors.$blue-grayV1;
  }

  &__grey-mid {
    fill: colors.$blue-grayV2;
  }

  &__grey-dark {
    fill: colors.$blue-grayV3;
  }

  &__grey-xdark {
    fill: colors.$blue-grayV4;
  }
}

.bulldozer__group--wheel {
  transform-origin: center;
  animation: rotateWheel 0.8s infinite;
  transform-box: fill-box;
  fill: #b1b7c9;
  stroke-width: 4;
  stroke: #8b8f99;
}

@keyframes bulldozerDrive {
  100% {
    left: 200%;
  }
}

@keyframes rocking {
  from {
    transform: rotate(0) translateY(-30px);
  }

  to {
    transform: rotate(2deg) translateY(-40px);
  }
}

@keyframes upDown {
  from {
    transform: translateY(0);
  }

  to {
    transform: translateY(10px);
  }
}

@keyframes pipeShake {
  0%,
  50%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(2px);
  }

  75% {
    transform: translateX(-2px);
  }
}

@keyframes rotateWheel {
  from {
    transform: rotate(0);
  }

  to {
    transform: rotate(360deg);
  }
}

@keyframes sceneShakingGround {
  0% {
    transform: translate(0, 0) rotate(0deg);
  }
  25% {
    transform: translate(-0.5%, -0.5%) rotate(-0.2deg);
  }
  50% {
    transform: translate(0.5%) rotate(0.2deg);
  }
  75% {
    transform: translate(-0.5%, 0.5%) rotate(-0.2deg);
  }
  100% {
    transform: translate(0.5%, -0.5%) rotate(0.2deg);
  }
}

// changing the path data of a svg using keyframes to make it grow from a seed to a sapling
@keyframes seedGrow {
  0%,
  49% {
    d: path(
      "M11.5 33.02c-.15 4.97-.22 7.45 1.22 9.27 1.46 1.84 3.46 2.58 4.66 2.9 1.01-.42 1.12-1.53 1.46-2.47.77-2.27.29-4.35-1.4-6.19-1.49-1.62-2.93-3.6-4.71-4.86-.2-.1-.48-.21-.73-.1-.45.2-.5 1.02-.51 1.46Z"
    );
  }

  50%,
  60% {
    d: path(
      "m19.5 43.3-5.1 2-1.8-4 1.8-17.7.1-6.9c-1.2-1.8-2-3.8-2-6l-.1-.7-.1-1.5V7.3l1 2 .6 1.5.7 3.7v-.7l.5-.6.2-1.1 1.2-3.6.6 1.4.2 1.3-.5 4.7-1 2.8 3.7 24.6Z"
    );
  }

  60%,
  70% {
    d: path(
      "m19.6 43.3-5.2 2-1.8-4 1.8-17.7.2-7.7c-1.2-1.8-2-4-2.3-6.2l-.1-.8-.2-1.7V5.8L13.1 8l.6 1.7 1 4 .3-.4c0-.8.2-1.5.4-2.2L17 7l.6 1.6v1.5l-.7 5.3-1 2.5 3.8 25.3Z"
    );
  }

  70%,
  80% {
    d: path(
      "M21.4 4.3v1.9l-.5 1.4-2.9 4.8-2.7 2.7 4.3 28.2-5.2 2-1.8-4 1.8-17.7.2-9.1c-2.5-1.1-4.6-2.9-6.2-5.2L8 8.6 7 7.1l-.8-1.3 2.3 1.5 1.4 1.2 4.6 5.6-.4-1.7.6-.9.6 1.1v2.1l1.6-4.5c.3-1 .9-1.9 1.6-2.6l3-3.3Z"
    );
  }

  80%,
  90% {
    d: path(
      "M23.4 5 23 6.8c-.2.4-.4 1-.7 1.3l-3.7 4.2-3.3 2.3.4 2.8 1.2-.3-.1 1.1c0 .2-.2.4-.4.4l-.5.1 3.7 24.6-5.2 2-1.8-4 1.8-17.7.2-5.3v-3.8l-.9-1c-2.3-.6-4.6-2-6.4-3.8l-.5-.6-1.3-1.4-1-1 2.5 1 1.6 1 6 5 .1-1.2-.5-3.2c-.1-.7 0-1.4.3-2.1l.8-1.8.4 3.5v2.4l-.6.8.2 1v.9h.2l2.4-4c.5-1 1.2-1.7 2-2.4L23.4 5Z"
    );
  }

  90%,
  100% {
    d: path(
      "m24.7 7-1 1.5-.5 1c-.4 1-1 1.9-2 2.5l-.6.4c-.6.5-1.4.8-2.1 1l-3.2 1 .4 3 .6-1h.8c.2 0 .6-.1.7.1 0 .3-.9 1.7-1 2-.3.3-.6.2-1 0l3.8 24.8-5.2 2-1.8-4 1.8-17.7.2-9-.7-.8c-2.3-.2-4.6-.5-6.6-2l-1-.6c-.5-.3-1-1-1.5-1.4l-1.1-.7 3 .1 1.6.7 6.3 3.6.1-1.5V12l-.4-2.5c-.2-1.3-1.3-3.8-.5-4.8L16.7.5l-.7 8-.4 2.4-.6 1 .2 1.2v.8l1.7-2.7c.6-.8 2.7-2.2 3.6-2.6L24.7 7Z"
    );
  }
}
